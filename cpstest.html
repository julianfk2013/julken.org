<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CPS Test</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
    background: linear-gradient(to right, #FFA07A, #87CEEB); /* Background gradient */
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    user-select: none; /* Prevent text selection */
  }
  h1 {
    font-size: 48px;
    color: #fff;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    margin-bottom: 30px;
  }
  #timer {
    font-size: 24px;
    margin-bottom: 20px;
    color: #fff;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
  }
  #clickArea {
    padding: 20px;
    background-color: #ffebcd;
    border-radius: 10px;
    display: inline-block;
    cursor: pointer;
    transition: background-color 0.3s ease;
    user-select: none; /* Prevent text selection */
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    font-size: 24px;
    color: #FFA07A;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
  }
  #clickArea:hover {
    background-color: #ffdab9;
  }
  .decorated-button {
    padding: 10px 20px;
    background-color: #fff;
    border: none;
    border-radius: 5px;
    margin: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    font-size: 18px;
    color: #FFA07A;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
    border: 2px solid #FFA07A;
  }
  .decorated-button:hover {
    background-color: #f0f0f0;
    color: #FF6347;
    border-color: #FF6347;
  }
  #clickCounter {
    font-size: 18px;
    margin-top: 20px;
    color: #fff;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
  }
</style>
</head>
<body>
<h1>CPS Test</h1>
<div id="timer">Time left: 0s</div>
<div id="clickCounter">Clicks: 0</div>
<div>
  <button class="decorated-button" onclick="startTest(5)">5 seconds</button>
  <button class="decorated-button" onclick="startTest(10)">10 seconds</button>
  <button class="decorated-button" onclick="startTest(15)">15 seconds</button>
</div>
<div id="clickArea" onclick="countClick()">Click Here</div>
<script>
  var startTime;
  var endTime;
  var testDuration;
  var clickCount = 0;
  var testStarted = false; // New variable to track if the test has started

  function countClick() {
    if (testStarted) { // Check if the test has started
      clickCount++;
      document.getElementById("clickCounter").textContent = "Clicks: " + clickCount;
    }
  }

  function startTest(duration) {
    document.getElementById("clickArea").style.display = "block";
    testDuration = duration;
    startTime = new Date().getTime();
    var timerInterval = setInterval(updateTimer, 1000);
    testStarted = true; // Set testStarted to true when the test starts

    function updateTimer() {
      var currentTime = new Date().getTime();
      var elapsedTime = (currentTime - startTime) / 1000;
      var remainingTime = testDuration - elapsedTime;

      if (remainingTime <= 0) {
        clearInterval(timerInterval);
        calculateCPS();
      }  
      document.getElementById("timer").textContent = "Time left: " + Math.round(remainingTime) + "s";
      
    }
  }

  function calculateCPS() {
    endTime = new Date().getTime();
    var totalTime = (endTime - startTime) / 1000;
    var cps = 0;
    if (totalTime > 0) {
      cps = clickCount / totalTime;
    }
      var animal = "";
      if (cps < 1) {
        animal = "Sloth";
      } else if (cps < 3) {
        animal = "Turtle";
      } else if (cps < 5) {
        animal = "Rabbit";
      } else if (cps < 7) {
        animal = "Gazelle";
      } else if (cps < 10 ) {
        animal = "Leopard";
      } else if (cps < 15) {
        animal = "Panther";
      } else if (cps < 20) {
        animal = "Jaguar";
      } else if (cps < 25) {
        animal = "Tiger";
      } else if (cps < 30) {
        animal = "Lion";
      } else if (cps < 35) {
        animal = "Falcon";
      } else if (cps < 40) {
        animal = "Superhuman";
      }
    
    alert("You are a " + animal + " in speed of clicking! Your CPS is " + cps.toFixed(2));
    clickCount = 0;
    document.getElementById("clickCounter").textContent = "Clicks: 0";
    testStarted = false; // Reset testStarted to false after the test ends
  } 
</script>
</body>
</html>
